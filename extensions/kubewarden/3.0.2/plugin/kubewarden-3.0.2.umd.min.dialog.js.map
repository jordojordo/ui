{"version":3,"file":"kubewarden-3.0.2.umd.min.dialog.js","mappings":"qQA8DIA,MAAM,OACL,yBAAuB,G,GAGtBC,KAAK,QACLD,MAAM,2B,GAKNC,KAAK,OACLD,MAAM,iC,GAEHA,MAAM,S,GAiBTC,KAAK,UACLD,MAAM,iB,GAEDA,MAAM,S,uKAlCfE,EAAAA,EAAAA,oBA4CM,MA5CNC,EA4CM,EAxCJC,EAAAA,EAAAA,oBAKK,KALLC,GAKKC,EAAAA,EAAAA,iBADAC,EAAAC,EAAE,8CAAD,IAENJ,EAAAA,EAAAA,oBAmBM,MAnBNK,EAmBM,EAfJL,EAAAA,EAAAA,oBAEI,IAFJM,GAEIJ,EAAAA,EAAAA,iBADCC,EAAAC,EAAE,6CAAD,IAENG,EAAAA,EAAAA,aAIEC,EAAA,CAHQC,MAAOC,EAAAC,gB,gCAAAD,EAAAC,gBAAeC,GAC7BC,SAAUC,EAAAC,aACVC,MAAOb,EAAAC,EAAE,iD,qCAEEM,EAAAC,kBAAe,kBAA7BM,EAAAA,EAAAA,aAAoGC,EAAA,C,MAArEC,MAAM,UAAWH,MAAOb,EAAAC,EAAE,yC,yEACzDN,EAAAA,EAAAA,oBAKEsB,EAAAA,SAAA,MAAAC,EAAAA,EAAAA,YAJmBX,EAAAY,QAAM,CAAjBC,EAAKC,M,kBADfP,EAAAA,EAAAA,aAKEC,EAAA,CAHCO,IAAKD,EACNL,MAAM,QACLH,MAAOO,EAAIG,S,8BAGhB1B,EAAAA,EAAAA,oBAaM,MAbN2B,EAaM,EATJ3B,EAAAA,EAAAA,oBAQM,MARN4B,EAQM,EAPJ5B,EAAAA,EAAAA,oBAKS,UAJPJ,MAAM,2BACLiC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEjB,EAAAkB,OAAAlB,EAAAkB,SAAAD,M,qBAEL5B,EAAAC,EAAE,mBAAD,IAENG,EAAAA,EAAAA,aAA4E0B,EAAA,CAA/DC,KAAK,OAAQrB,UAAWH,EAAAC,gBAAkBkB,QAAOf,EAAAqB,Y,yEAhGtE,GACEC,MAAO,CACLC,UAAW,CACTC,KAAU,CAACC,MAAOC,QAClBC,UAAU,IAIdC,WAAY,CACVC,YAAW,IAAEC,OAAM,IAAEC,SAAQA,EAAAA,GAG/BC,IAAAA,GACE,MAAO,CACLxB,OAAiB,GACjBX,iBAAiB,EAErB,EAEAoC,SAAU,CACRC,MAAAA,GACE,OAAOC,KAAKZ,UAAU,EACxB,EAEAtB,YAAAA,GACE,MAAmC,YAA5BkC,KAAKD,QAAQE,MAAMhB,IAC5B,GAGFiB,QAAS,CACPnB,KAAAA,GACEiB,KAAK3B,OAAS,GAEd2B,KAAKG,MAAM,QACb,EAEA,gBAAMjB,CAAWkB,GACfJ,KAAK3B,OAAS,GAEd,IACE2B,KAAKD,OAAOE,KAAKhB,KAAO,gBAClBe,KAAKD,OAAOM,OAElBD,GAAM,GACNJ,KAAKjB,OACP,CAAE,MAAOT,GACP0B,KAAK3B,OAAOiC,KAAKhC,GACjB8B,GAAM,EACR,CACF,I,qBChDJ,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,wFCNIC,EAA0B,IAA4B,KAE1DA,EAAwBH,KAAK,CAACI,EAAOC,GAAI,oEAAqE,KAE9G,c,uBCJA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,GAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOM,QAAUJ,EAAQG,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYL,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G","sources":["webpack://kubewarden-3.0.2/./dialog/UpdateModeDialog.vue","webpack://kubewarden-3.0.2/./dialog/UpdateModeDialog.vue?54a4","webpack://kubewarden-3.0.2/./dialog/UpdateModeDialog.vue?f5d7","webpack://kubewarden-3.0.2/./dialog/UpdateModeDialog.vue?0674"],"sourcesContent":["<script>\nimport AsyncButton from '@shell/components/AsyncButton';\n\nimport { Banner } from '@components/Banner';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\n\nexport default {\n  props: {\n    resources: {\n      type:     [Array, Object],\n      required: true\n    }\n  },\n\n  components: {\n    AsyncButton, Banner, Checkbox\n  },\n\n  data() {\n    return {\n      errors:          [],\n      updateToProtect: false\n    };\n  },\n\n  computed: {\n    policy() {\n      return this.resources[0];\n    },\n\n    modeDisabled() {\n      return this.policy?.spec?.mode === 'protect';\n    },\n  },\n\n  methods: {\n    close() {\n      this.errors = [];\n\n      this.$emit('close');\n    },\n\n    async updateMode(btnCb) {\n      this.errors = [];\n\n      try {\n        this.policy.spec.mode = 'protect';\n        await this.policy.save();\n\n        btnCb(true);\n        this.close();\n      } catch (err) {\n        this.errors.push(err);\n        btnCb(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    class=\"p-10\"\n    :show-highlight-border=\"false\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text mb-10\"\n    >\n      {{ t('kubewarden.policyConfig.mode.update.title') }}\n    </h4>\n    <div\n      slot=\"body\"\n      class=\"pl-10 pr-10 mb-20 dialog-body\"\n    >\n      <p class=\"mb-20\">\n        {{ t('kubewarden.policyConfig.mode.update.body') }}\n      </p>\n      <Checkbox\n        v-model:value=\"updateToProtect\"\n        :disabled=\"modeDisabled\"\n        :label=\"t('kubewarden.policyConfig.mode.update.checkbox')\"\n      />\n      <Banner v-if=\"updateToProtect\" color=\"warning\" :label=\"t('kubewarden.policyConfig.mode.warning')\" />\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err.message\"\n      />\n    </div>\n    <div\n      slot=\"actions\"\n      class=\"buttons mt-10\"\n    >\n      <div class=\"right\">\n        <button\n          class=\"btn role-secondary mr-10\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n        <AsyncButton mode=\"edit\" :disabled=\"!updateToProtect\" @click=\"updateMode\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.dialog-body {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import { render } from \"./UpdateModeDialog.vue?vue&type=template&id=72324f74&scoped=true\"\nimport script from \"./UpdateModeDialog.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateModeDialog.vue?vue&type=script&lang=js\"\n\nimport \"./UpdateModeDialog.vue?vue&type=style&index=0&id=72324f74&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72324f74\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-body[data-v-72324f74]{display:flex;flex-direction:column}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./UpdateModeDialog.vue?vue&type=style&index=0&id=72324f74&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"878e90aa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["class","slot","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_ctx","t","_hoisted_3","_hoisted_4","_createVNode","_component_Checkbox","value","$data","updateToProtect","$event","disabled","$options","modeDisabled","label","_createBlock","_component_Banner","color","_Fragment","_renderList","errors","err","i","key","message","_hoisted_5","_hoisted_6","onClick","_cache","args","close","_component_AsyncButton","mode","updateMode","props","resources","type","Array","Object","required","components","AsyncButton","Banner","Checkbox","data","computed","policy","this","spec","methods","$emit","btnCb","save","push","__exports__","render","___CSS_LOADER_EXPORT___","module","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}