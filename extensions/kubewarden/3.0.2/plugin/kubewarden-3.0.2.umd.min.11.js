(("undefined"!==typeof self?self:this)["webpackChunkkubewarden_3_0_2"]=("undefined"!==typeof self?self:this)["webpackChunkkubewarden_3_0_2"]||[]).push([[11],{9011:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var o=r(9274);const a={key:1,class:"pr-tab__container"},s={key:1},n={key:0},l={key:1},c=["colspan"],i={class:"text-muted"},d={class:"details"},u={class:"col"},p={class:"title"},m={class:"col"},b={class:"title"};function g(e,t,r,g,k,y){const h=(0,o.resolveComponent)("Loading"),f=(0,o.resolveComponent)("router-link"),v=(0,o.resolveComponent)("BadgeState"),w=(0,o.resolveComponent)("Banner"),_=(0,o.resolveComponent)("SortableTable");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,mode:"relative"})):((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(_,{rows:k.reports,headers:y.tableHeaders,"table-actions":!1,"row-actions":!1,"key-field":"uid","group-by":y.isNamespaceResource?"kind":null,"sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":25,"extra-search-fields":["summary"],"default-sort-by":"status"},(0,o.createSlots)({"col:policy":(0,o.withCtx)((({row:e})=>[e.policy&&e.policyName?((0,o.openBlock)(),(0,o.createElementBlock)("td",n,[y.canGetKubewardenLinks?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,to:y.getPolicyLink(e)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.policyName),1)])),_:2},1032,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(e.policyName),1))])):(0,o.createCommentVNode)("",!0)])),"col:severity":(0,o.withCtx)((({row:e})=>[(0,o.createElementVNode)("td",null,[(0,o.createVNode)(v,{label:y.getResourceValue(e,"severity"),color:y.severityColor(e)},null,8,["label","color"])])])),"col:status":(0,o.withCtx)((({row:e})=>[(0,o.createElementVNode)("td",null,[(0,o.createVNode)(v,{label:y.getResourceValue(e,"result"),color:y.statusColor(e)},null,8,["label","color"])])])),"sub-row":(0,o.withCtx)((({row:t,fullColspan:r})=>[(0,o.createElementVNode)("td",{colspan:r,class:"pr-tab__sub-row"},[t.message?((0,o.openBlock)(),(0,o.createBlock)(w,{key:0,color:"info",class:"message"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",i,(0,o.toDisplayString)(e.t("kubewarden.policyReporter.headers.policyReportsTab.message.title"))+":",1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.message),1)])),_:2},1024)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("section",u,[(0,o.createElementVNode)("div",p,(0,o.toDisplayString)(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.mutating")),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.properties["mutating"]||"-"),1)]),(0,o.createElementVNode)("section",m,[(0,o.createElementVNode)("div",b,(0,o.toDisplayString)(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.validating")),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(t.properties["validating"]||"-"),1)])])],8,c)])),_:2},[y.isNamespaceResource?{name:"col:kind",fn:(0,o.withCtx)((({row:e})=>[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(y.getResourceValue(e,"kind",!0)),1)])),key:"0"}:void 0,y.isNamespaceResource?{name:"col:name",fn:(0,o.withCtx)((({row:e})=>[(0,o.createElementVNode)("td",null,[y.canGetResourceLink(e)?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,to:y.getResourceLink(e)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(y.getResourceValue(e,"name",!0)),1)])),_:2},1032,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",s,(0,o.toDisplayString)(y.getResourceValue(e,"name",!0)),1))])])),key:"1"}:void 0]),1032,["rows","headers","group-by"])]))}var k=r(3514),y=r.n(k),h=r(14220),f=r(88339),v=r(96546),w=r(23005),_=r(9980),C=r(84409),N=r(65290),R=r(79442),S=r(65165),V=r(50634),E=r(86514),x=r(51756),B={props:{resource:{type:Object,required:!0}},components:{BadgeState:w.j,Banner:_.l,Loading:C.A,SortableTable:N.A},mixins:[v.A],async fetch(){const e=await(0,V.LU)(this.$store,this.resource);if(this.reports=e||[],!y()(this.reports)){const e=[this.$fetchType(R.$v.ADMISSION_POLICY),this.$fetchType(R.$v.CLUSTER_ADMISSION_POLICY)];await(0,f.kR)(e)}},data(){return{colorForResult:V.q3,reports:[],resourceHeaders:S.QV.RESOURCE,namespaceHeaders:S.QV.NAMESPACE}},computed:{canGetKubewardenLinks(){const e=this.$store.getters["cluster/schemaFor"](R.$v.CLUSTER_ADMISSION_POLICY),t=this.$store.getters["cluster/schemaFor"](R.$v.ADMISSION_POLICY);return!(!e&&!t)},hasNamespace(){return this.resource?.metadata?.namespace},hasReports(){return!y()(this.reports)},isNamespaceResource(){return this.resource?.type===h.CU},tableHeaders(){return this.isNamespaceResource?this.namespaceHeaders:this.resourceHeaders}},methods:{canGetResourceLink(e){const t=e.scope;if(this.resource?.type===h.CU&&t.kind?.toLowerCase()===h.CU)return null;if(t){const e=Object.values(x).find((e=>t.kind===e.attributes.kind));if(e)return this.$store.getters["cluster/schemaFor"](t.kind?.toLowerCase());const r=(0,E.OQ)(t);if(r)return this.$store.getters["cluster/schemaFor"](r)}return null},getResourceValue(e,t,r=!1){return this.isNamespaceResource&&r?e.scope?.[t]||"-":y()(e)?"-":e[t]||"-"},getPolicyLink(e){return(0,V._Y)(this.$store,e)},getResourceLink(e){return(0,V.YG)(e)},severityColor(e){return e.result?(0,V.M7)(e.severity):"bg-muted"},statusColor(e){if(e.result){const t=(0,V.q3)(e.result),r=t.includes("sizzle")?t.concat("-bg"):t.replace(/text-/,"bg-");return r}return"bg-muted"}}},L=(r(37572),r(47433));const D=(0,L.A)(B,[["render",g],["__scopeId","data-v-224cd080"]]);var I=D},2532:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),s=r(40935),n=r.n(s),l=n()(a());l.push([e.id,".pr-tab__container .sizzle-warning-bg[data-v-224cd080]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-224cd080]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-224cd080]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-224cd080]{color:#614ea2}.pr-tab__sub-row[data-v-224cd080]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-224cd080]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-224cd080]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-224cd080]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-224cd080]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-224cd080]{color:var(--muted);margin-bottom:.5rem}",""]),t["default"]=l},37572:function(e,t,r){var o=r(2532);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("29016dd8",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=kubewarden-3.0.2.umd.min.11.js.map