{"version":3,"file":"kubewarden-3.1.2-rc.2.umd.min.edit.js","mappings":"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","sources":["webpack://kubewarden-3.1.2-rc.2/./components/PolicyServer/Values.vue?8dbc","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyTable.vue?dc64","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?6989","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Values.vue?1778","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyReadmePanel.vue","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyReadmePanel.vue?bee5","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.admissionpolicy.vue?1abe","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Values.vue","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Values.vue?7801","webpack://kubewarden-3.1.2-rc.2/./utils/object.ts","webpack://kubewarden-3.1.2-rc.2/./components/PolicyServer/Values.vue?d01c","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Config.vue?6065","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?3d9c","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Create.vue?7ec2","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Create.vue","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyTable.vue","webpack://kubewarden-3.1.2-rc.2/./modules/artifacthub.ts","webpack://kubewarden-3.1.2-rc.2/./components/SortableTableWrapper.vue","webpack://kubewarden-3.1.2-rc.2/./components/SortableTableWrapper.vue?c4e2","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyTable.vue?e6cd","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Create.vue?0646","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-3.1.2-rc.2/./components/PolicyServer/Values.vue","webpack://kubewarden-3.1.2-rc.2/./components/PolicyServer/Values.vue?b424","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.policyserver.vue?3c62","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Values.vue?67b7","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.admissionpolicy.vue?03e6","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyReadmePanel.vue?08f6","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyReadmePanel.vue?02a7","webpack://kubewarden-3.1.2-rc.2/./components/Policies/PolicyTable.vue?6466","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.admissionpolicy.vue?0704","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Config.vue","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Config.vue?af1f","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Create.vue?5e6b","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-3.1.2-rc.2/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?eb36","webpack://kubewarden-3.1.2-rc.2/./components/Policies/Config.vue?a6fa"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=082bb2d8&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0e38ba29\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyTable.vue?vue&type=style&index=0&id=99db457a&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8094b0ae\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-055dee5c] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".step__values__controls[data-v-46245f73]{display:flex;margin-bottom:15px}.step__values__controls[data-v-46245f73]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-46245f73],.step__values__controls--spacer[data-v-46245f73]{flex:1}.step__values__content[data-v-46245f73] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nexport default {\n  props: {\n    packageValues: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { ChartReadme },\n\n  data() {\n    return {\n      showSlideIn:      false,\n      info:             undefined,\n      infoVersion:      undefined,\n      versionInfo:      undefined,\n      versionError:     undefined,\n      headerBannerSize: 0,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n  },\n\n  methods: {\n    show() {\n      this.showSlideIn = true;\n    },\n\n    hide() {\n      this.showSlideIn = false;\n    }\n  }\n};\n</script>\n<template>\n  <div\n    class=\"policy-info-panel\"\n    :style=\"`--banner-top-offset: 0px`\"\n  >\n    <div\n      v-if=\"showSlideIn\"\n      class=\"glass\"\n      data-testid=\"extension-details-bg\"\n      @click=\"hide()\"\n    />\n    <div\n      class=\"slideIn\"\n      data-testid=\"extension-details\"\n      :class=\"{'hide': false, 'slideIn__show': showSlideIn}\"\n    >\n      <div class=\"slideIn__header\">\n        <div\n          v-if=\"packageValues\"\n          class=\"policy-info-content\"\n        >\n          <div class=\"policy-header pb-10\">\n            <div class=\"slideIn__header__buttons\">\n              <button class=\"btn btn-sm role-link\" @click=\"hide\">\n                <span>{{ t('generic.close') }}</span>\n                <i class=\"icon icon-chevron-right\" />\n              </button>\n            </div>\n          </div>\n\n          <div class=\"policy-title mt-20\">\n            <h2 class=\"policy-info-title\">\n              {{ packageValues.display_name }}\n            </h2>\n          </div>\n\n          <ChartReadme class=\"mt-20\" :version-info=\"packageValues\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.btn-sm) {\n  padding: 0 7px 0 0;\n}\n\n.policy-info-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  overflow-y: auto;\n\n  $slideout-width: 35%;\n  $title-height: 50px;\n  $padding: 5px;\n  $slideout-width: 45%;\n  --banner-top-offset: 0;\n  $header-height: calc(54px + var(--banner-top-offset));\n\n  .glass {\n    position: fixed;\n    top: $header-height;\n    height: calc(100% - $header-height);\n    left: 0;\n    width: 100%;\n    opacity: 0;\n    overflow-y: auto;\n  }\n\n  .slideIn {\n    border-left: var(--header-border-size) solid var(--header-border);\n    position: fixed;\n    top: $header-height;\n    right: -$slideout-width;\n    height: calc(100% - $header-height);\n    background-color: var(--topmenu-bg);\n    width: $slideout-width;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    box-shadow: -3px 0 5px rgba(0, 0, 0, 0.1);\n\n    padding: 10px;\n\n    transition: right .5s ease;\n\n    &__header {\n      text-transform: capitalize;\n    }\n\n    .policy-info-content {\n      display: flex;\n      flex-direction: column;\n      overflow-y: auto;\n    }\n\n    h3 {\n      font-size: 14px;\n      margin: 0;\n      opacity: 0.7;\n      text-transform: uppercase;\n    }\n\n    .policy-header {\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      align-items: center;\n\n      .policy-title {\n        flex: 1;\n      }\n    }\n\n    &__header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      &__buttons {\n        display: flex;\n        align-items: center;\n      }\n\n      &__button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        > i {\n          font-size: 20px;\n          opacity: 0.5;\n        }\n\n        &:hover {\n          background-color: var(--wm-closer-hover-bg);\n        }\n      }\n    }\n\n    &__show {\n      right: 0;\n    }\n  }\n}\n</style>\n","import { render } from \"./PolicyReadmePanel.vue?vue&type=template&id=7158a949&scoped=true\"\nimport script from \"./PolicyReadmePanel.vue?vue&type=script&lang=js\"\nexport * from \"./PolicyReadmePanel.vue?vue&type=script&lang=js\"\n\nimport \"./PolicyReadmePanel.vue?vue&type=style&index=0&id=7158a949&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7158a949\"]])\n\nexport default __exports__","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n      Object.assign(this.value, parsed);\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=7064b576&scoped=true\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=7064b576&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7064b576\"]])\n\nexport default __exports__","<script>\nimport { defineAsyncComponent, toRaw } from 'vue';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { KUBEWARDEN_CHARTS, VALUES_STATE, YAML_OPTIONS, RANCHER_NS_MATCH_EXPRESSION } from '@kubewarden/types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n    customPolicy: {\n      type:    Boolean,\n      default: false\n    },\n    value: {\n      type:     Object,\n      required: true\n    },\n    yamlValues: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  components: {\n    ButtonGroup,\n    Loading,\n    ResourceCancelModal,\n    Tabbed,\n    YamlEditor\n  },\n\n  async fetch() {\n    if (isEmpty(this.chartValues.questions) && !!this.chartValues?.policy?.spec?.settings) {\n      try {\n        const pkg = await this.value.artifactHubPackageVersion();\n\n        if (pkg && !pkg.error) {\n          const packageQuestions = this.value.parsePackageMetadata(pkg?.data?.['kubewarden/questions-ui']);\n\n          if (packageQuestions) {\n            set(this.chartValues, 'questions', packageQuestions);\n          }\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch chart questions: ${ e }`);\n      }\n    }\n\n    try {\n      this.version = this.$store.getters['catalog/version']({\n        repoType:      'cluster',\n        repoName:      'kubewarden',\n        chartName:     KUBEWARDEN_CHARTS.CONTROLLER,\n      });\n\n      this.loadValuesComponent();\n    } catch (e) {\n      console.warn(`Unable to fetch Version: ${ e }`);\n    }\n\n    this.generateYaml();\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM\n    };\n  },\n\n  mounted() {\n    // by default, every clusterAdmissionPolicy created will ignore Rancher system namespaces\n    // so that policies in PROTECT mode don't crash the system\n    // needs to be in this component because MatchExpression component is not automatically updated\n    if (this.mode === _CREATE && this.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n      if (!this.chartValues?.policy?.spec?.namespaceSelector) {\n        this.chartValues.policy.spec.namespaceSelector = {};\n      }\n\n      this.chartValues.policy.spec.namespaceSelector.matchExpressions = [RANCHER_NS_MATCH_EXPRESSION];\n    }\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        this.$emit('editor', neu);\n\n        break;\n      case VALUES_STATE.YAML:\n        if (old === VALUES_STATE.FORM) {\n          this.currentYamlValues = saferDump(this.chartValues.policy);\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        this.$emit('editor', neu);\n\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n\n      // Use toRaw to get the raw object from the reactive proxy\n      const rawPolicy = toRaw(this.chartValues.policy);\n      const cloned = rawPolicy ? structuredClone(rawPolicy) : this.value;\n\n      if (this.yamlValues?.length) {\n        this.currentYamlValues = this.yamlValues;\n      } else {\n        this.currentYamlValues = createYaml(schemas, this.value?.type, cloned);\n      }\n    },\n\n    loadValuesComponent() {\n      if (this.value?.haveComponent('kubewarden/admission')) {\n        const importFn = this.value.importComponent('kubewarden/admission');\n\n        this.valuesComponent = defineAsyncComponent(importFn);\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      this.$emit('updateYamlValues', this.currentYamlValues);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__container\">\n      <div class=\"scroll__content\">\n        <template v-if=\"showForm\">\n          <Tabbed\n            ref=\"tabs\"\n            :side-tabs=\"true\"\n            class=\"step__values__content\"\n            @changed=\"tabChanged($event)\"\n          >\n            <template v-if=\"valuesComponent\">\n              <component\n                :is=\"valuesComponent\"\n                :value=\"chartValues\"\n                :mode=\"mode\"\n                :custom-policy=\"customPolicy\"\n              />\n            </template>\n          </Tabbed>\n        </template>\n        <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n          <YamlEditor\n            ref=\"yaml\"\n            v-model:value=\"currentYamlValues\"\n            data-testid=\"kw-policy-config-yaml-editor\"\n            class=\"step__values__content\"\n            :scrolling=\"true\"\n            :initial-yaml-values=\"originalYamlValues\"\n            :editor-mode=\"editorMode\"\n            :hide-preview-buttons=\"true\"\n            @onChanges=\"updateYamlValues\"\n          />\n        </template>\n\n        <ResourceCancelModal\n          ref=\"cancelModal\"\n          data-testid=\"kw-policy-config-yaml-cancel\"\n          :is-cancel-modal=\"false\"\n          :is-form=\"true\"\n          @cancel-cancel=\"preYamlOption = yamlOption\"\n          @confirm-cancel=\"yamlOption = preYamlOption\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n\n  .step {\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        :deep(.tab-container) {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./Values.vue?vue&type=template&id=46245f73&scoped=true\"\nimport script from \"./Values.vue?vue&type=script&lang=js\"\nexport * from \"./Values.vue?vue&type=script&lang=js\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=46245f73&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46245f73\"]])\n\nexport default __exports__","import isEmpty from 'lodash/isEmpty';\nimport isObject from 'lodash/isObject';\n\nexport function removeEmptyAttrs(obj: any): any {\n  Object.keys(obj).forEach((key: any) => {\n    const value = obj[key];\n\n    // Check for value being empty, null, or an empty array\n    if (value === undefined || value === null || value === '' || (Array.isArray(value) && !value.length)) {\n      delete obj[key];\n    } else if (isObject(value)) {\n      // Recursively clean the object\n      removeEmptyAttrs(value);\n\n      // After cleaning, if the object is empty, delete it\n      if (isEmpty(value)) {\n        delete obj[key];\n      }\n    }\n  });\n\n  // Added check: If the parent object is now empty, return null to signal removal\n  if (isEmpty(obj)) {\n    return null;\n  }\n\n  return obj;\n}\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-082bb2d8] .step-container{height:auto}.step__basic[data-v-082bb2d8]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__basic .spacer[data-v-082bb2d8]{line-height:2}.step__values__controls[data-v-082bb2d8]{display:flex;margin-bottom:15px}.step__values__controls[data-v-082bb2d8]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-082bb2d8],.step__values__controls--spacer[data-v-082bb2d8]{flex:1}.step__values__content[data-v-082bb2d8] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content[data-v-6e3a9c09]{position:relative;z-index:1}.banner__title[data-v-6e3a9c09]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-6e3a9c09]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=055dee5c&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"425e148e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Create.vue?vue&type=style&index=0&id=97ebb69c&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7f056fcb\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport jsyaml from 'js-yaml';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { NAMESPACE } from '@shell/config/types';\nimport { _CREATE } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport { Banner } from '@components/Banner';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Wizard from '@shell/components/Wizard';\n\nimport {\n  KUBEWARDEN,\n  KUBEWARDEN_PRODUCT_NAME,\n  REGO_POLICIES_REPO,\n  VALUES_STATE,\n  ARTIFACTHUB_PKG_ANNOTATION,\n  DEFAULT_POLICY\n} from '@kubewarden/types';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\n\nimport { DATA_ANNOTATIONS } from '@kubewarden/types/artifacthub';\nimport PolicyTable from './PolicyTable';\nimport PolicyReadmePanel from './PolicyReadmePanel';\nimport Values from './Values';\n\nexport default ({\n  name: 'Create',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      default:  () => ({})\n    },\n  },\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n    Wizard,\n    PolicyTable,\n    PolicyReadmePanel,\n    Values\n  },\n\n  inject: ['chartType'],\n\n  mixins: [CreateEditView],\n\n  async created() {\n    if (this.hasArtifactHub) {\n      await this.$store.dispatch('kubewarden/fetchPackages', { value: this.value });\n    }\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n  },\n\n  data() {\n    return {\n      bannerTitle:       null,\n      shortDescription:  null,\n      type:              null,\n      typeModule:        null,\n      version:           null,\n\n      chartValues: {\n        policy:    {},\n        questions: {}\n      },\n      yamlValues: '',\n\n      hasCustomPolicy: false,\n      yamlOption:      VALUES_STATE.FORM,\n      finishAttempts:  0,\n\n      // Steps\n      stepPolicies: {\n        hidden:    false,\n        name:      'policies',\n        label:     'Policies',\n        ready:     false,\n        showSteps: false,\n        weight:    99\n      },\n      stepValues: {\n        name:      'values',\n        label:     'Values',\n        ready:     true,\n        showSteps: false,\n        weight:    98\n      },\n    };\n  },\n\n  computed: {\n    isAirgap() {\n      return this.$store.getters['kubewarden/airGapped'];\n    },\n\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isSelected() {\n      return !!this.type;\n    },\n\n    customPolicy() {\n      return this.type === 'custom';\n    },\n\n    /** Allow create if either editing in yaml view or module and required rules/settings have been met */\n    canFinish() {\n      if (this.yamlOption === VALUES_STATE.YAML) {\n        return true;\n      }\n\n      return !!this.chartValues?.policy?.spec?.module && this.hasRequired;\n    },\n\n    hasArtifactHub() {\n      return this.value.artifactHubWhitelist;\n    },\n\n    /** Determines if the required rules/settings are set, if not the resource can not be created */\n    hasRequired() {\n      if (!isEmpty(this.chartValues?.policy) && this.chartValues.policy.spec) {\n        const { rules, settings } = this.chartValues.policy.spec;\n\n        const requiredRules = ['apiVersions', 'operations', 'resources'];\n        const acceptedRules = this.acceptedValues(rules, requiredRules);\n        const acceptedName = this.chartValues.policy.metadata.name;\n\n        const requiredQuestions = this.chartValues?.questions?.questions?.map((q) => {\n          if (q.required) {\n            return q.variable;\n          }\n        }).filter(Boolean);\n        const acceptedQuestions = this.acceptedValues(settings, requiredQuestions);\n\n        if (!!acceptedName && !isEmpty(acceptedRules) && (isEmpty(requiredQuestions) || !isEmpty(acceptedQuestions))) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    hideArtifactHubBanner() {\n      return this.$store.getters['kubewarden/hideBannerArtifactHub'] || !!this.hasArtifactHub || !!this.isAirgap;\n    },\n\n    hideAirgapBanner() {\n      return !this.isAirgap || this.$store.getters['kubewarden/hideBannerAirgapPolicy'];\n    },\n\n    packageValues() {\n      if (this.type?.repository?.url) {\n        return this.packages?.find((p) => p.repository?.url === this.type.repository.url);\n      }\n\n      return null;\n    },\n\n    steps() {\n      const steps = [];\n\n      steps.push(\n        this.stepPolicies,\n        this.stepValues\n      );\n\n      return steps.sort((a, b) => b.weight - a.weight);\n    },\n\n    packages() {\n      return this.$store.getters['kubewarden/packages'];\n    },\n\n    packageDetailsByKey() {\n      return this.$store.getters['kubewarden/packageDetailsByKey'];\n    },\n\n    loadingPackages() {\n      return this.$store.getters['kubewarden/loadingPackages'];\n    },\n  },\n\n  methods: {\n    /** Determine values which need to be required from supplied property and keys */\n    acceptedValues(requiredProp, requiredKeys) {\n      if (isEmpty(requiredKeys)) {\n        return null;\n      }\n\n      let accepted;\n\n      if (Array.isArray(requiredProp)) {\n        accepted = requiredProp.find((prop) => this.checkProperties(prop, requiredKeys));\n      } else {\n        accepted = this.checkProperties(requiredProp, requiredKeys);\n      }\n\n      return accepted;\n    },\n\n    /** Check supplied property for required keys */\n    checkProperties(requiredProp, requiredKeys) {\n      const match = [];\n\n      if (!isEmpty(requiredKeys)) {\n        for (const key of requiredKeys.values()) {\n          if (!isEmpty(requiredProp[key])) {\n            match.push(key);\n          }\n        }\n        if (requiredKeys && isEqual(match, requiredKeys)) {\n          return requiredProp;\n        }\n      }\n\n      return null;\n    },\n\n    async closeBanner(banner, retry = 0) {\n      const res = await this.$store.dispatch(`kubewarden/${ banner }`, true);\n\n      if (retry === 0 && res?.type === 'error' && res?.status === 500) {\n        await this.close(retry + 1);\n      }\n    },\n\n    async createNamespace(ns) {\n      const allNamespaces = this.$store.getters['cluster/all'](NAMESPACE);\n      const nsTemplate = {\n        type:                     NAMESPACE,\n        metadata:                 { name: ns },\n        disableOpenApiValidation: false\n      };\n\n      const existing = allNamespaces?.find((n) => n?.metadata?.name === ns);\n\n      if (!existing) {\n        const nsResource = await this.$store.dispatch('cluster/create', nsTemplate);\n\n        try {\n          await nsResource.save();\n        } catch (e) {\n          this.errors.push(e);\n        }\n      }\n    },\n\n    async addArtifactHub(btnCb) {\n      try {\n        this.loadingPackages = true;\n\n        await this.value.updateWhitelist('artifacthub.io');\n        await this.getPackages();\n\n        btnCb(true);\n        this.loadingPackages = false;\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n\n        btnCb(false);\n        this.loadingPackages = false;\n      }\n    },\n\n    done() {\n      this.$router.replace({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  KUBEWARDEN_PRODUCT_NAME,\n          resource: this.schema?.id\n        }\n      });\n    },\n\n    async finish(event) {\n      try {\n        let out;\n\n        if (this.yamlOption === VALUES_STATE.YAML) {\n          out = jsyaml.load(this.yamlValues);\n        } else {\n          out = this.chartValues?.policy ? this.chartValues.policy : jsyaml.load(this.yamlValues);\n        }\n\n        removeEmptyAttrs(out); // Clean up empty values from questions\n\n        if (this.finishAttempts > 0) {\n          // Remove keys that are not in the new spec\n          Object.keys(this.value.spec).forEach((key) => {\n            if (!(key in out.spec)) {\n              this.$delete(this.value.spec, key);\n            }\n          });\n\n          // Then, set or update the remaining keys\n          Object.keys(out.spec).forEach((key) => {\n            this.value.spec.key = out.spec[key];\n          });\n        } else {\n          merge(this.value, out);\n        }\n\n        // If create new namespace option is selected, create the ns before saving the policy\n        if (this.chartType === KUBEWARDEN.ADMISSION_POLICY && this.chartValues?.isNamespaceNew) {\n          await this.createNamespace(this.value?.metadata?.namespace);\n        }\n\n        await this.attemptSave(event);\n      } catch (e) {\n        console.error('Error creating policy', e);\n      }\n    },\n\n    async attemptSave(event) {\n      await this.save(event);\n\n      // Check for errors set by the mixin\n      if (this.errors && this.errors.length > 0) {\n        const error = new Error('Save operation failed');\n\n        this.finishAttempts++;\n        throw error; // Force an error to be caught in the finish method\n      }\n    },\n\n    /** Fetch packages from ArtifactHub repository */\n    async getPackages() {\n      this.repository = await this.value.artifactHubRepo();\n\n      if (this.repository && this.repository.packages.length > 0) {\n        const packagesByRepo = this.repository.packages.filter((pkg) => !pkg?.repository?.url?.includes(REGO_POLICIES_REPO));\n        const promises = packagesByRepo.map((pkg) => this.packageDetails(pkg));\n\n        try {\n          const packages = await Promise.all(promises);\n\n          this.packages = packages.filter((pkg) => pkg?.data?.['kubewarden/hidden-ui'] !== 'true');\n        } catch (e) {\n          handleGrowl({\n            error: e,\n            store: this.$store\n          });\n\n          console.warn(`Error fetching packages`, e);\n        }\n      }\n    },\n\n    packageDetails(pkg) {\n      return this.packageDetailsByKey(pkg?.package_id);\n    },\n\n    /** Extract policy questions from ArtifactHub package if available */\n    policyQuestions() {\n      const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n      if (this.customPolicy) {\n        // Add contextAwareResources to custom policy spec\n        const updatedCustomPolicy = { spec: { contextAwareResources: [] } };\n\n        merge(defaultPolicy, updatedCustomPolicy);\n        set(this.chartValues, 'policy', defaultPolicy);\n        this.yamlValues = saferDump(defaultPolicy);\n\n        return;\n      }\n\n      const policyDetails = this.packages.find((pkg) => pkg.repository?.url === this.type?.repository?.url);\n      const packageQuestions = this.value.parsePackageMetadata(policyDetails?.data?.[DATA_ANNOTATIONS.QUESTIONS]);\n      const packageAnnotation = `${ policyDetails?.repository?.name }/${ policyDetails?.name }/${ policyDetails?.version }`;\n      /** Return spec from package if annotation exists */\n      const parseAnnotation = (annotation, obj) => {\n        const spec = this.value.parsePackageMetadata(policyDetails?.data?.[annotation]);\n\n        if (spec?.[obj] !== undefined) {\n          return spec[obj];\n        }\n\n        return spec || [];\n      };\n\n      /** Return value of annotation if it exists */\n      const determineAnnotation = (annotation) => {\n        if (policyDetails?.data?.[annotation] !== undefined) {\n          return JSON.parse(policyDetails.data[annotation]);\n        }\n\n        return false;\n      };\n\n      const updatedPolicy = {\n        apiVersion: this.value.apiVersion,\n        kind:       this.value.kind,\n        metadata:   { annotations: { [ARTIFACTHUB_PKG_ANNOTATION]: packageAnnotation } },\n        spec:       {\n          module:                policyDetails?.containers_images[0].image,\n          contextAwareResources: parseAnnotation(DATA_ANNOTATIONS.CONTEXT_AWARE, 'contextAwareResources'),\n          rules:                 parseAnnotation(DATA_ANNOTATIONS.RULES, 'rules'),\n          mutating:              determineAnnotation(DATA_ANNOTATIONS.MUTATION)\n        }\n      };\n\n      merge(defaultPolicy, updatedPolicy);\n      set(this.chartValues, 'policy', defaultPolicy);\n\n      this.yamlValues = saferDump(defaultPolicy);\n\n      if (packageQuestions) {\n        set(this.chartValues, 'questions', packageQuestions);\n      }\n\n      this.shortDescription = policyDetails?.description;\n    },\n\n    reset(event) {\n      this.$nextTick(() => {\n        if (event.step?.name === this.stepPolicies.name) {\n          const initialState = [\n            'errors',\n            'bannerTitle',\n            'shortDescription',\n            'type',\n            'typeModule',\n            'version',\n            'hasCustomPolicy',\n          ];\n\n          initialState.forEach((i) => {\n            this[i] = null;\n          });\n\n          this.stepPolicies.ready = false;\n          this.stepValues.hidden = false;\n\n          this.chartValues = {\n            policy:    {},\n            questions: {}\n          };\n          this.yamlOption = VALUES_STATE.FORM;\n          this.yamlValues = '';\n        }\n      });\n    },\n\n    selectType(type) {\n      this.type = type;\n\n      if (this.customPolicy) {\n        this.hasCustomPolicy = true;\n      } else {\n        this.hasCustomPolicy = false;\n      }\n\n      this.policyQuestions();\n      this.stepPolicies.ready = true;\n      this.$refs.wizard.next();\n      this.bannerTitle = this.customPolicy ? 'Custom Policy' : type?.display_name;\n      this.typeModule = this.chartValues?.policy?.spec.module;\n    },\n\n    showReadme() {\n      this.$refs.readmePanel.show();\n    }\n  }\n\n});\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <template v-if=\"!hideArtifactHubBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ah-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerArtifactHub')\"\n      >\n        <div>\n          <p v-clean-html=\"t('kubewarden.policies.noArtifactHub', {}, true)\" class=\"mb-10\" />\n          <AsyncButton mode=\"artifactHub\" @click=\"addArtifactHub\" />\n        </div>\n      </Banner>\n    </template>\n    <template v-if=\"!hideAirgapBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ag-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        :label=\"t('kubewarden.policies.airgap.banner')\"\n        @close=\"closeBanner('updateHideBannerAirgapPolicy')\"\n      />\n    </template>\n    <Loading v-if=\"loadingPackages\" />\n    <Wizard\n      v-if=\"value && !loadingPackages\"\n      ref=\"wizard\"\n      :value=\"value\"\n      data-testid=\"kw-policy-create-wizard\"\n      :errors=\"errors\"\n      :steps=\"steps\"\n      :show-banner=\"false\"\n      :edit-first-step=\"true\"\n      class=\"wizard\"\n      @next=\"reset\"\n      @cancel=\"done\"\n      @finish=\"finish\"\n    >\n      <template #policies>\n        <PolicyTable\n          data-testid=\"kw-policy-create-table\"\n          :value=\"packages\"\n          @selectType=\"selectType($event)\"\n        />\n      </template>\n\n      <template #values>\n        <div class=\"banner__title\">\n          <h2>{{ bannerTitle }}</h2>\n          <template v-if=\"!customPolicy\">\n            <p class=\"banner__short-description\">\n              {{ shortDescription }}\n            </p>\n            <button class=\"btn btn-sm role-link banner__readme-button\" @click=\"showReadme\">\n              {{ t('kubewarden.policyConfig.description.showReadme') }}\n            </button>\n          </template>\n        </div>\n        <Values\n          :value=\"value\"\n          :chart-values=\"chartValues\"\n          :yaml-values=\"yamlValues\"\n          :mode=\"mode\"\n          :custom-policy=\"customPolicy\"\n          @editor=\"$event => yamlOption = $event\"\n          @updateYamlValues=\"$event => yamlValues = $event\"\n        />\n      </template>\n\n      <template #finish>\n        <AsyncButton\n          data-testid=\"kw-policy-create-finish-button\"\n          :disabled=\"!canFinish\"\n          mode=\"finish\"\n          @click=\"finish\"\n        />\n      </template>\n    </Wizard>\n\n    <template v-if=\"packageValues && !customPolicy\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :package-values=\"packageValues\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n$height: 110px;\n$margin: 10px;\n$color: var(--body-text) !important;\n\n:deep(.header) {\n  display: none;\n}\n\n:deep(.controls-row) {\n  position: sticky;\n  width: auto;\n\n  .controls-steps {\n    display: flex;\n  }\n}\n\n:deep(.custom) {\n  min-height: 110px;\n}\n\n:deep(.subtype) {\n  height: $height;\n  margin: $margin;\n  position: relative;\n  border-radius: calc( 1.5 * var(--border-radius));\n  border: 1px solid var(--border);\n  text-decoration: none !important;\n  color: $color;\n\n  &:hover:not(.disabled) {\n    box-shadow: 0 0 30px var(--shadow);\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: pointer;\n    text-decoration: none !important;\n  }\n\n  .subtype__metadata {\n    padding: $margin;\n\n    &__label, &__description {\n      padding-right: 20px;\n    }\n  }\n\n  .subtype__badge {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 4px $padding;\n    border-bottom-left-radius: var(--border-radius);\n\n    label {\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      display: block;\n      white-space: no-wrap;\n      text-overflow: ellipsis;\n      color: var(--app-rancher-accent-text);\n      margin: 0;\n    }\n  }\n\n  .subtype__label {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 4px;\n    line-height: initial;\n  }\n\n  .subtype__description {\n    margin-right: $margin;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: var(--input-label);\n  }\n}\n\n:deep(.footer-error) {\n  margin-top: 15px;\n}\n\n.wizard {\n  position: relative;\n  height: 100%;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","<script>\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { _CREATE, CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\nimport { sortBy } from '@shell/utils/sort';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { KUBEWARDEN, KUBEWARDEN_PRODUCT_NAME } from '@kubewarden/types';\nimport { POLICY_TABLE_HEADERS } from '@kubewarden/config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '@kubewarden/modules/artifacthub';\n\nimport SortableTableWrapper from '@kubewarden/components/SortableTableWrapper';\n\nexport default {\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    // ArtifactHub packages\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  inject: ['chartType'],\n\n  components: {\n    Checkbox,\n    LabeledSelect,\n    LabeledInput,\n    SortableTableWrapper\n  },\n\n  fetch() {\n    const query = this.$route.query;\n\n    this.category = query[CATEGORY] || '';\n    this.searchQuery = query[SEARCH_QUERY] || '';\n  },\n\n  data() {\n    return {\n      KUBEWARDEN_PRODUCT_NAME,\n      POLICY_TABLE_HEADERS,\n\n      attributes:  [this.t('kubewarden.utils.attributes.optionLabels.all')],\n      searchQuery: null,\n\n      hidePackages:           [],\n      showKubewardenOfficial: true\n    };\n  },\n\n  computed: {\n    allSchemas() {\n      return this.$store.getters['cluster/all'](SCHEMA);\n    },\n\n    filteredPackages() {\n      const filteredPackages = this.value?.filter((artifactHubPackage) => {\n        // Determine if the package is a pre-release\n        const isPreRelease = this.isPrerelease(artifactHubPackage);\n\n        if (!this.showPreRelease && isPreRelease) {\n          return false; // Exclude pre-releases if showPreRelease is false\n        }\n\n        if (this.chartType === KUBEWARDEN.ADMISSION_POLICY) {\n          return !isGlobalPolicy(artifactHubPackage, this.allSchemas);\n        }\n\n        return true;\n      });\n\n      return filteredPackages || [];\n    },\n\n    filteredSubtypes() {\n      const subtypes = (this.filteredPackages || []);\n\n      const out = subtypes.filter((subtype) => {\n        // Show official only when showKubewardenOfficial is true\n        if (this.showKubewardenOfficial && !this.isOfficial(subtype)) {\n          return false;\n        }\n\n        // Search query filtering\n        if (this.searchQuery) {\n          const searchTokens = this.searchQuery.split(/\\s*[, ]\\s*/).map((x) => ensureRegex(x, false));\n\n          const matchesSearch = searchTokens.every((token) => (\n            subtype.display_name?.match(token) ||\n            (subtype.description && subtype.description.match(token)) ||\n            subtype.keywords?.some((keyword) => keyword.match(token))\n          ));\n\n          if (!matchesSearch) {\n            return false;\n          }\n        }\n\n        // Attribute filtering\n        if (this.attributes.length) {\n          if (this.attributes.includes(this.t('kubewarden.utils.attributes.optionLabels.all'))) {\n            return true;\n          }\n\n          const matchesAttributes = this.attributes.some((attribute) => {\n            const isFeature = this.featureOptions.includes(attribute);\n\n            if (isFeature) {\n              const normalizedAttribute = attribute === 'Mutation' ? 'mutation' : 'contextAwareResources';\n\n              return subtype.data?.[`kubewarden/${ normalizedAttribute }`];\n            }\n\n            return subtype.data?.['kubewarden/resources']?.includes(attribute);\n          }\n          );\n\n          if (!matchesAttributes) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n\n      return sortBy(out, ['name']);\n    },\n\n    attributeOptions() {\n      const out = [];\n\n      if (this.resourceOptions.length) {\n        out.push({\n          kind:  'group',\n          label: this.t('kubewarden.utils.attributes.optionLabels.resource'),\n        }, ...this.resourceOptions);\n      }\n\n      if (this.featureOptions.length) {\n        out.push({\n          kind:  'group',\n          label: this.t('kubewarden.utils.attributes.optionLabels.features'),\n        }, ...this.featureOptions);\n      }\n\n      if (out.length) {\n        out.unshift(\n          this.t('kubewarden.utils.attributes.optionLabels.all'),\n          {\n            kind:  'divider',\n            label: 'divider'\n          }\n        );\n      }\n\n      return out;\n    },\n\n    featureOptions() {\n      const featuresList = [];\n\n      for (const subtype of this.filteredPackages) {\n        if (subtype?.data?.['kubewarden/mutation'] === 'true') {\n          featuresList.push('Mutation');\n        }\n\n        if (subtype?.data?.['kubewarden/contextAwareResources']) {\n          featuresList.push('Context Aware');\n        }\n      }\n\n      if (!featuresList || featuresList.length === 0) {\n        return [];\n      }\n\n      return [...new Set(featuresList.filter(Boolean))];\n    },\n\n    keywordOptions() {\n      const flattened = this.filteredPackages?.flatMap((subtype) => {\n        if (subtype?.keywords && subtype.keywords.length) {\n          return subtype.keywords;\n        }\n      });\n\n      if (!flattened || flattened?.length === 0) {\n        return [];\n      }\n\n      return [...new Set(flattened.filter(Boolean))];\n    },\n\n    organizationOptions() {\n      const flattened = this.filteredPackages?.flatMap((subtype) => {\n        const name = subtype?.repository?.organization_display_name || subtype?.repository?.user_alias;\n\n        return name || null;\n      });\n\n      if (!flattened || flattened.length === 0) {\n        return [];\n      }\n\n      return [...new Set(flattened.filter(Boolean))];\n    },\n\n    resourceOptions() {\n      return resourcesFromAnnotation(this.filteredPackages);\n    },\n\n    showPreRelease() {\n      return this.$store.getters['prefs/get'](SHOW_PRE_RELEASE);\n    }\n  },\n\n  methods: {\n    hasAnnotation(subtype, annotation) {\n      if (subtype.data?.[annotation] && subtype.data?.[annotation] !== 'false') {\n        return true;\n      }\n\n      return false;\n    },\n\n    isPrerelease(artifactHubPackage) {\n      const parsed = semver.prerelease(artifactHubPackage?.version);\n\n      /**\n       * Custom condition for Deprecated API Versions policy as these versions\n       * have specific k8s versions attached (e.g. `v0.1.12-k8sv1.29.0`).\n       */\n      if (parsed && artifactHubPackage.name === 'deprecated-api-versions') {\n        return !!parsed.includes('rc');\n      }\n\n      return !!parsed;\n    },\n\n    refresh() {\n      this.category = null;\n      this.attributes = [this.t('kubewarden.utils.attributes.optionLabels.all')];\n      this.searchQuery = null;\n    },\n\n    isOfficial(subtype) {\n      return subtype?.repository?.organization_name?.toLowerCase() === KUBEWARDEN_PRODUCT_NAME;\n    },\n\n    handleAttributeSelect(selected) {\n      const allOption = this.t('kubewarden.utils.attributes.optionLabels.all');\n\n      if (selected.includes(allOption)) {\n        if (selected.length === 1 || selected.indexOf(allOption) !== 0) {\n          this.attributes = [allOption];\n        } else {\n          this.attributes = selected.filter((attr) => attr !== allOption);\n        }\n      } else {\n        this.attributes = selected.filter((attr) => attr !== allOption);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"policy-table-container\">\n    <div class=\"filter\">\n      <LabeledSelect\n        v-if=\"attributeOptions.length\"\n        v-model:value=\"attributes\"\n        data-testid=\"kw-table-filter-source\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"mode\"\n        :multiple=\"true\"\n        class=\"filter__attributes\"\n        label-key=\"kubewarden.utils.attributes.label\"\n        :options=\"attributeOptions\"\n        @selecting=\"e => handleAttributeSelect(e)\"\n      />\n\n      <LabeledInput\n        ref=\"searchQuery\"\n        v-model:value=\"searchQuery\"\n        data-testid=\"kw-table-filter-search\"\n        :mode=\"mode\"\n        class=\"input-sm filter__search\"\n        :label=\"t('kubewarden.utils.search')\"\n        :placeholder=\"t('kubewarden.generic.name')\"\n      />\n\n      <button\n        ref=\"btn\"\n        data-testid=\"kw-table-filter-refresh\"\n        class=\"btn role-tertiary filter__reset\"\n        type=\"button\"\n        @click=\"refresh\"\n      >\n        <p>\n          {{ t('kubewarden.utils.resetFilter') }}\n        </p>\n      </button>\n    </div>\n\n    <div class=\"policy-table-actions\">\n      <Checkbox\n        v-model:value=\"showKubewardenOfficial\"\n        :label=\"t('kubewarden.utils.official.label')\"\n        data-testid=\"kw-table-filter-official\"\n      />\n\n      <button\n        ref=\"btn\"\n        data-testid=\"kw-table-custom-buttom\"\n        class=\"btn role-tertiary\"\n        type=\"button\"\n        @click=\"$emit('selectType', 'custom')\"\n      >\n        <p>\n          {{ t('kubewarden.utils.custom.create') }}\n        </p>\n      </button>\n    </div>\n\n    <SortableTableWrapper\n      :rows=\"filteredSubtypes\"\n      :headers=\"POLICY_TABLE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"package_id\"\n      default-sort-by=\"name\"\n      :paging=\"true\"\n      :search=\"false\"\n      @selectRow=\"(row) => $emit('selectType', row)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.policy-table-container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.policy-table-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filter {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: repeat(2, 1fr) .25fr;\n  grid-template-areas:\n    \"attributes search reset\";\n\n  gap: 1rem;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n\n  &__attributes {\n    grid-area: attributes;\n  }\n\n  &__search {\n    grid-area: search;\n  }\n\n  &__reset {\n    grid-area: reset;\n\n    p {\n      line-height: 1.5;\n      white-space: wrap;\n    }\n  }\n}\n\n:deep(tr:hover) {\n  cursor: pointer;\n}\n</style>\n","import { ArtifactHubPackageDetails } from '@kubewarden/types';\n\n/**\n * Extracts resource kinds from a list of ArtifactHub packages with the `kubewarden/resources` annotation.\n * @param artifactHubPackages\n * @returns `string[]` | Resource kinds\n */\nexport function resourcesFromAnnotation(artifactHubPackages: ArtifactHubPackageDetails[]): string[] | void {\n  const out: string[] = [];\n\n  const resources = artifactHubPackages?.flatMap((artifactHubPackage) => {\n    const annotation = artifactHubPackage?.data?.['kubewarden/resources'];\n\n    if (annotation) {\n      return annotation;\n    }\n  });\n\n  resources?.flatMap((resource) => {\n    if (resource) {\n      const split = resource.split(',');\n\n      if (split.length > 1) {\n        split.forEach((s: string) => out.push(s.trim()));\n      } else {\n        out.push(resource);\n      }\n    }\n\n    return [];\n  })?.sort();\n\n  if (!out || out?.length === 0) {\n    return [];\n  }\n\n  return [...new Set(out.filter(Boolean))];\n}\n\n/**\n * Checks the resources within a ArtifactHub package's `kubewarden/resources` annotation to determine if\n * the policy is targeting non-namespaced resources. Needed to gate CAP from AP grid.\n * @param artifactHubPackage `schemas`\n * @returns boolean\n */\nexport function isGlobalPolicy(artifactHubPackage: ArtifactHubPackageDetails, schemas: any): boolean {\n  if (artifactHubPackage) {\n    const resources: string[] | undefined = artifactHubPackage.data?.['kubewarden/resources']?.split(',');\n    let targetsNonNamespaced: boolean = false;\n\n    if (resources) {\n      for (const resource of resources) {\n        targetsNonNamespaced = schemas?.some((schema: any) => (\n          schema?.attributes?.kind === resource && (schema?.attributes?.namespaced === false || undefined)\n        ));\n      }\n    }\n\n    return targetsNonNamespaced;\n  }\n\n  return false;\n}\n","<script>\nimport SortableTable from '@shell/components/SortableTable';\n\nexport default {\n  props:      {\n    rows:          {\n      type:     Array,\n      required: true\n    },\n    headers:       {\n      type:     Array,\n      required: true\n    },\n    tableActions:  {\n      type:    Boolean,\n      default: false\n    },\n    rowActions:    {\n      type:    Boolean,\n      default: false\n    },\n    keyField:      {\n      type:     String,\n      required: true\n    },\n    defaultSortBy: {\n      type:    String,\n      default: ''\n    },\n    paging:        {\n      type:    Boolean,\n      default: false\n    },\n    search:        {\n      type:    Boolean,\n      default: false\n    },\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  components: { SortableTable },\n\n  data() {\n    return { listeners: [] };\n  },\n\n  watch: {\n    rows() {\n      this.addRowClickListener();\n    }\n  },\n\n  mounted() {\n    this.addRowClickListener();\n  },\n\n  methods: {\n    addRowClickListener() {\n      this.$nextTick(() => {\n        const table = this.$refs.sortableTable?.$el?.querySelector('table');\n\n        if (table) {\n          this.removeRowClickListener();\n\n          table.querySelectorAll('tbody tr').forEach((row, index) => {\n            const listener = () => this.$emit('selectRow', this.rows[index]);\n\n            row?.addEventListener('click', listener);\n            this.listeners.push({\n              row,\n              listener\n            });\n          });\n        }\n      });\n    },\n\n    removeRowClickListener() {\n      this.listeners?.forEach(({ row, listener }) => row?.removeEventListener('click', listener));\n      this.listeners = [];\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      ref=\"sortableTable\"\n      :rows=\"rows\"\n      :headers=\"headers\"\n      :table-actions=\"tableActions\"\n      :row-actions=\"rowActions\"\n      :key-field=\"keyField\"\n      :default-sort-by=\"defaultSortBy\"\n      :paging=\"paging\"\n      :search=\"search\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    />\n  </div>\n</template>\n","import { render } from \"./SortableTableWrapper.vue?vue&type=template&id=ca4b3028\"\nimport script from \"./SortableTableWrapper.vue?vue&type=script&lang=js\"\nexport * from \"./SortableTableWrapper.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PolicyTable.vue?vue&type=template&id=99db457a&scoped=true\"\nimport script from \"./PolicyTable.vue?vue&type=script&lang=js\"\nexport * from \"./PolicyTable.vue?vue&type=script&lang=js\"\n\nimport \"./PolicyTable.vue?vue&type=style&index=0&id=99db457a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-99db457a\"]])\n\nexport default __exports__","import { render } from \"./Create.vue?vue&type=template&id=97ebb69c&scoped=true\"\nimport script from \"./Create.vue?vue&type=script&lang=js\"\nexport * from \"./Create.vue?vue&type=script&lang=js\"\n\nimport \"./Create.vue?vue&type=style&index=0&id=97ebb69c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97ebb69c\"]])\n\nexport default __exports__","<script>\nimport merge from 'lodash/merge';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport Loading from '@shell/components/Loading';\n\nimport { DEFAULT_POLICY_SERVER } from '@kubewarden/models/policies.kubewarden.io.policyserver';\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport Values from '@kubewarden/components/PolicyServer/Values';\n\nexport default {\n  components: {\n    CruResource,\n    Loading,\n    Values\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const schema = this.$store.getters[`cluster/schemaFor`](KUBEWARDEN.POLICY_SERVER);\n\n    await schema.fetchResourceFields();\n  },\n\n  data() {\n    return {\n      errors:           [],\n      chartValues:      this.value,\n    };\n  },\n\n  created() {\n    if (this.isCreate) {\n      merge(this.chartValues, structuredClone(DEFAULT_POLICY_SERVER));\n    }\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    validationPassed() {\n      return !!this.chartValues?.metadata?.name;\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      // Clean up the securityContexts \"seccompProfile\" property if there are no keys set on the object\n      const securityContexts = this.chartValues?.spec?.securityContexts;\n\n      if (securityContexts) {\n        ['pod', 'container'].forEach((type) => {\n          const seccompProfile = securityContexts[type]?.seccompProfile;\n\n          if (seccompProfile && Object.keys(seccompProfile).length === 0) {\n            delete securityContexts[type].seccompProfile;\n          }\n        });\n      }\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @finish=\"finish\"\n    @error=\"e => errors = e\"\n  >\n    <Values\n      :value=\"value\"\n      :chart-values=\"chartValues\"\n      :mode=\"mode\"\n    />\n  </CruResource>\n</template>\n","<script>\nimport { defineAsyncComponent } from 'vue';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport jsyaml from 'js-yaml';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { VALUES_STATE, YAML_OPTIONS } from '@kubewarden/types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: {\n    ButtonGroup,\n    Loading,\n    ResourceCancelModal,\n    Tabbed,\n    YamlEditor\n  },\n\n  async created() {\n    const valuesYaml = this.generateYaml();\n\n    this.currentYamlValues = valuesYaml;\n    this.originalYamlValues = valuesYaml;\n\n    try {\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.error(`Error loading values component: ${ e }`);\n    }\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      configValues:        null,\n      showQuestions:       true,\n      showValuesComponent: false,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM,\n      values:              this.chartValues\n    };\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        break;\n      case VALUES_STATE.YAML:\n        if (old === VALUES_STATE.FORM) {\n          this.currentYamlValues = this.generateYaml();\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n      const yaml = createYaml(schemas, this.value?.type, this.chartValues);\n\n      const lines = yaml.split('\\n');\n      const filteredLines = lines.filter((line) => !line.includes('Error loading schema for array'));\n      const modifiedYAML = filteredLines.join('\\n');\n\n      return modifiedYAML;\n    },\n\n    async loadValuesComponent() {\n      if (this.value.haveComponent('kubewarden/policy-server')) {\n        const importFn = this.value.importComponent('kubewarden/policy-server');\n\n        this.valuesComponent = defineAsyncComponent(importFn);\n\n        this.showValuesComponent = true;\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      if (!isEmpty(this.currentYamlValues)) {\n        const parsed = jsyaml.load(this.currentYamlValues);\n\n        if (parsed) {\n          merge(this.chartValues, parsed);\n        }\n      }\n    },\n\n    handleValidationPassed(val) {\n      this.$emit('validation-passed', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else class=\"scroll__container\">\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-server-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__content\">\n      <template v-if=\"showForm\">\n        <Tabbed\n          ref=\"tabs\"\n          :side-tabs=\"true\"\n          class=\"step__values__content\"\n          @changed=\"tabChanged($event)\"\n        >\n          <component\n            :is=\"valuesComponent\"\n            v-model:value=\"values\"\n            :resource=\"value\"\n            :mode=\"mode\"\n            @validation-passed=\"handleValidationPassed\"\n          />\n        </Tabbed>\n      </template>\n      <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n        <YamlEditor\n          ref=\"yaml\"\n          v-model:value=\"currentYamlValues\"\n          data-testid=\"kw-policy-server-config-yaml-editor\"\n          class=\"step__values__content\"\n          :scrolling=\"true\"\n          :initial-yaml-values=\"originalYamlValues\"\n          :editor-mode=\"editorMode\"\n          :hide-preview-buttons=\"true\"\n          @onChanges=\"updateYamlValues\"\n        />\n      </template>\n\n      <ResourceCancelModal\n        ref=\"cancelModal\"\n        data-testid=\"kw-policy-server-config-yaml-cancel\"\n        :is-cancel-modal=\"false\"\n        :is-form=\"true\"\n        @cancel-cancel=\"preYamlOption = yamlOption\"\n        @confirm-cancel=\"yamlOption = preYamlOption\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n  $height: 110px;\n  $side: 15px;\n  $margin: 10px;\n  $logo: 60px;\n\n  :deep(.step-container) {\n    height: auto;\n  }\n\n  .step {\n    &__basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      overflow-x: hidden;\n\n      .spacer {\n        line-height: 2;\n      }\n    }\n\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        :deep(.tab-container) {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./Values.vue?vue&type=template&id=082bb2d8&scoped=true\"\nimport script from \"./Values.vue?vue&type=script&lang=js\"\nexport * from \"./Values.vue?vue&type=script&lang=js\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=082bb2d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-082bb2d8\"]])\n\nexport default __exports__","import { render } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=39a9169f\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=46245f73&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1dfa2bba\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-7064b576] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-7158a949] .btn-sm{padding:0 7px 0 0}.policy-info-panel[data-v-7158a949]{position:fixed;top:0;left:0;z-index:2;overflow-y:auto;--banner-top-offset:0}.policy-info-panel .glass[data-v-7158a949]{left:0;width:100%;opacity:0}.policy-info-panel .glass[data-v-7158a949],.policy-info-panel .slideIn[data-v-7158a949]{position:fixed;top:calc(54px + var(--banner-top-offset));height:calc(100% - 54px - var(--banner-top-offset));overflow-y:auto}.policy-info-panel .slideIn[data-v-7158a949]{border-left:var(--header-border-size) solid var(--header-border);right:-45%;background-color:var(--topmenu-bg);width:45%;display:flex;flex-direction:column;box-shadow:-3px 0 5px rgba(0,0,0,.1);padding:10px;transition:right .5s ease}.policy-info-panel .slideIn__header[data-v-7158a949]{text-transform:capitalize}.policy-info-panel .slideIn .policy-info-content[data-v-7158a949]{display:flex;flex-direction:column;overflow-y:auto}.policy-info-panel .slideIn h3[data-v-7158a949]{font-size:14px;margin:0;opacity:.7;text-transform:uppercase}.policy-info-panel .slideIn .policy-header[data-v-7158a949]{border-bottom:1px solid var(--border);display:flex;align-items:center}.policy-info-panel .slideIn .policy-header .policy-title[data-v-7158a949]{flex:1}.policy-info-panel .slideIn__header[data-v-7158a949]{display:flex;align-items:center;justify-content:space-between}.policy-info-panel .slideIn__header__buttons[data-v-7158a949]{display:flex;align-items:center}.policy-info-panel .slideIn__header__button[data-v-7158a949]{cursor:pointer;display:flex;align-items:center;justify-content:center}.policy-info-panel .slideIn__header__button>i[data-v-7158a949]{font-size:20px;opacity:.5}.policy-info-panel .slideIn__header__button[data-v-7158a949]:hover{background-color:var(--wm-closer-hover-bg)}.policy-info-panel .slideIn__show[data-v-7158a949]{right:0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyReadmePanel.vue?vue&type=style&index=0&id=7158a949&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ff5b4f70\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".policy-table-container[data-v-99db457a]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.policy-table-actions[data-v-99db457a]{display:flex;justify-content:space-between;align-items:center}.filter[data-v-99db457a]{width:100%;display:grid;grid-template-rows:1fr;grid-template-columns:repeat(2,1fr) .25fr;grid-template-areas:\\\"attributes search reset\\\";gap:1rem}.filter[data-v-99db457a]>*{margin:.5rem 0}.filter__attributes[data-v-99db457a]{grid-area:attributes}.filter__search[data-v-99db457a]{grid-area:search}.filter__reset[data-v-99db457a]{grid-area:reset}.filter__reset p[data-v-99db457a]{line-height:1.5;white-space:wrap}[data-v-99db457a] tr:hover{cursor:pointer}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=7064b576&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"513986a3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport merge from 'lodash/merge';\n\nimport { _VIEW } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading';\n\nimport { ARTIFACTHUB_PKG_ANNOTATION, DATA_ANNOTATIONS, DEFAULT_POLICY } from '@kubewarden/types';\n\nimport Values from './Values.vue';\nimport PolicyReadmePanel from './PolicyReadmePanel';\n\nexport default {\n  name: 'Config',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    value: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  components: {\n    Loading,\n    Values,\n    PolicyReadmePanel\n  },\n\n  async fetch() {},\n\n  async mounted() {\n    this.chartValues = {\n      policy:    this.value,\n      questions: null\n    };\n\n    if (this.value?.metadata?.annotations?.[ARTIFACTHUB_PKG_ANNOTATION]) {\n      try {\n        const ahPackage = await this.value.artifactHubPackageVersion();\n\n        if (ahPackage && !ahPackage.error) {\n          this.artifactHubPackage = ahPackage;\n\n          if (ahPackage.description) {\n            this.shortDescription = ahPackage.description;\n          }\n\n          if (ahPackage.readme) {\n            this.policyReadme = JSON.parse(JSON.stringify(ahPackage.readme));\n          }\n\n          if (ahPackage.data?.[DATA_ANNOTATIONS.QUESTIONS]) {\n            const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n            const merged = merge(defaultPolicy.spec.settings, this.chartValues.policy?.spec?.settings);\n\n            set(this.chartValues.policy.spec, 'settings', merged);\n\n            this.policyQuestions = this.value.parsePackageMetadata(ahPackage.data[DATA_ANNOTATIONS.QUESTIONS]);\n\n            if (this.policyQuestions) {\n              set(this.chartValues, 'questions', this.policyQuestions);\n            }\n          }\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch artifacthub package: ${ e }`);\n      }\n    }\n\n    this.yamlValues = saferDump(this.value);\n  },\n\n  data() {\n    return {\n      artifactHubPackage: null,\n      chartValues:        null,\n      yamlValues:         '',\n      policyQuestions:    null,\n      shortDescription:   '',\n      policyReadme:       null\n    };\n  },\n\n  methods: {\n    showReadme() {\n      this.$refs.readmePanel.show();\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"content\">\n      <div class=\"banner__title\">\n        <template v-if=\"shortDescription\">\n          <p class=\"banner__short-description\">\n            {{ shortDescription }}\n          </p>\n          <button v-if=\"policyReadme\" class=\"btn btn-sm role-link banner__readme-button\" @click=\"showReadme\">\n            {{ t('kubewarden.policyConfig.description.showReadme') }}\n          </button>\n        </template>\n      </div>\n      <Values\n        :value=\"value\"\n        :chart-values=\"chartValues\"\n        :yaml-values=\"yamlValues\"\n        :mode=\"mode\"\n        @updateYamlValues=\"$emit('updateYamlValues', $event)\"\n      />\n    </div>\n\n    <template v-if=\"policyReadme\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :package-values=\"artifactHubPackage\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.content {\n  position: relative;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","import { render } from \"./Config.vue?vue&type=template&id=6e3a9c09&scoped=true\"\nimport script from \"./Config.vue?vue&type=script&lang=js\"\nexport * from \"./Config.vue?vue&type=script&lang=js\"\n\nimport \"./Config.vue?vue&type=style&index=0&id=6e3a9c09&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e3a9c09\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-97ebb69c] .header{display:none}[data-v-97ebb69c] .controls-row{position:sticky;width:auto}[data-v-97ebb69c] .controls-row .controls-steps{display:flex}[data-v-97ebb69c] .custom{min-height:110px}[data-v-97ebb69c] .subtype{height:110px;margin:10px;position:relative;border-radius:calc(var(--border-radius)*1.5);border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}[data-v-97ebb69c] .subtype:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}[data-v-97ebb69c] .subtype .subtype__metadata{padding:10px}[data-v-97ebb69c] .subtype .subtype__metadata__description,[data-v-97ebb69c] .subtype .subtype__metadata__label{padding-right:20px}[data-v-97ebb69c] .subtype .subtype__badge{position:absolute;right:0;top:0;padding:4px 5px;border-bottom-left-radius:var(--border-radius)}[data-v-97ebb69c] .subtype .subtype__badge label{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--app-rancher-accent-text);margin:0}[data-v-97ebb69c] .subtype .subtype__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;line-height:normal}[data-v-97ebb69c] .subtype .subtype__description{margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--input-label)}[data-v-97ebb69c] .footer-error{margin-top:15px}.wizard[data-v-97ebb69c]{position:relative;height:100%;z-index:1}.banner__title[data-v-97ebb69c]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-97ebb69c]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT, _CLONE } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        if (\n          this.isClone &&\n          this.value.isKubewardenDefaultPolicy &&\n          this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults'\n        ) {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event);\n        this.$emit('input', this.value); // Emit the updated value to the parent\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n\n      this.value = { ...parsed }; // Assign a new object to avoid prop mutation\n      this.$emit('input', this.value); // Emit changes\n    }\n  }\n};\n</script>\n\n\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=055dee5c&scoped=true\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=055dee5c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-055dee5c\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Config.vue?vue&type=style&index=0&id=6e3a9c09&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7c1a947c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["content","__esModule","default","module","id","locals","exports","add","___CSS_LOADER_EXPORT___","push","class","style","key","_createElementBlock","_hoisted_1","$data","showSlideIn","onClick","_cache","$event","$options","hide","_createCommentVNode","_createElementVNode","_normalizeClass","_hoisted_2","$props","packageValues","_hoisted_3","_hoisted_4","_hoisted_5","args","_toDisplayString","_ctx","t","_hoisted_6","_hoisted_7","display_name","_createVNode","_component_ChartReadme","props","type","Object","required","components","ChartReadme","data","info","undefined","infoVersion","versionInfo","versionError","headerBannerSize","computed","mapGetters","theme","applyDarkModeBg","this","methods","show","__exports__","render","isCreate","_createBlock","_component_Create","value","mode","_component_CruResource","resource","realMode","onFinish","finish","_withCtx","_component_Config","onUpdateYamlValues","updateYamlValuesFromEdit","_","name","String","_EDIT","CruResource","Config","Create","mixins","CreateEditView","provide","chartType","_CREATE","event","removeEmptyAttrs","save","e","handleGrowl","error","store","$store","val","parsed","jsyaml","assign","$fetchState","pending","_component_Loading","isEdit","_component_ButtonGroup","yamlOption","options","YAML_OPTIONS","showForm","_component_Tabbed","ref","onChanged","tabChanged","valuesComponent","_resolveDynamicComponent","chartValues","customPolicy","_component_YamlEditor","currentYamlValues","scrolling","originalYamlValues","editorMode","onOnChanges","updateYamlValues","_component_ResourceCancelModal","onCancelCancel","preYamlOption","onConfirmCancel","_VIEW","Boolean","yamlValues","ButtonGroup","Loading","ResourceCancelModal","Tabbed","YamlEditor","fetch","isEmpty","questions","policy","spec","settings","pkg","artifactHubPackageVersion","packageQuestions","parsePackageMetadata","set","console","warn","version","getters","repoType","repoName","chartName","KUBEWARDEN_CHARTS","CONTROLLER","loadValuesComponent","generateYaml","VALUES_STATE","FORM","mounted","kind","namespaceSelector","matchExpressions","RANCHER_NS_MATCH_EXPRESSION","watch","neu","old","$emit","YAML","saferDump","EDITOR_MODES","EDIT_CODE","schemas","SCHEMA","rawPolicy","toRaw","cloned","structuredClone","length","createYaml","haveComponent","importFn","importComponent","defineAsyncComponent","window","scrollTop","obj","keys","forEach","Array","isArray","isObject","hideArtifactHubBanner","_component_Banner","color","closable","onClose","closeBanner","_component_AsyncButton","addArtifactHub","hideAirgapBanner","label","loadingPackages","_component_Wizard","errors","steps","onNext","reset","onCancel","done","policies","_component_PolicyTable","packages","onSelectType","selectType","values","bannerTitle","_Fragment","shortDescription","showReadme","_component_Values","onEditor","disabled","canFinish","_component_PolicyReadmePanel","attributeOptions","_component_LabeledSelect","attributes","clearable","taggable","multiple","onSelecting","handleAttributeSelect","_component_LabeledInput","searchQuery","placeholder","refresh","_component_Checkbox","showKubewardenOfficial","_component_SortableTableWrapper","rows","filteredSubtypes","headers","POLICY_TABLE_HEADERS","paging","search","onSelectRow","row","resourcesFromAnnotation","artifactHubPackages","out","resources","flatMap","artifactHubPackage","annotation","split","s","trim","sort","Set","filter","isGlobalPolicy","targetsNonNamespaced","some","schema","namespaced","_component_SortableTable","tableActions","rowActions","keyField","defaultSortBy","useQueryParamsForSimpleFiltering","SortableTable","listeners","addRowClickListener","$nextTick","table","$refs","sortableTable","$el","querySelector","removeRowClickListener","querySelectorAll","index","listener","addEventListener","removeEventListener","inject","Checkbox","LabeledSelect","LabeledInput","SortableTableWrapper","query","$route","category","CATEGORY","SEARCH_QUERY","KUBEWARDEN_PRODUCT_NAME","hidePackages","allSchemas","filteredPackages","isPreRelease","isPrerelease","showPreRelease","KUBEWARDEN","ADMISSION_POLICY","subtypes","subtype","isOfficial","searchTokens","map","x","ensureRegex","matchesSearch","every","token","match","description","keywords","keyword","includes","matchesAttributes","attribute","isFeature","featureOptions","normalizedAttribute","sortBy","resourceOptions","unshift","featuresList","keywordOptions","flattened","organizationOptions","repository","organization_display_name","user_alias","SHOW_PRE_RELEASE","hasAnnotation","semver","organization_name","toLowerCase","selected","allOption","indexOf","attr","AsyncButton","Banner","Wizard","PolicyTable","PolicyReadmePanel","Values","created","hasArtifactHub","dispatch","apiVersion","group","typeModule","hasCustomPolicy","finishAttempts","stepPolicies","hidden","ready","showSteps","weight","stepValues","isAirgap","isSelected","hasRequired","artifactHubWhitelist","rules","requiredRules","acceptedRules","acceptedValues","acceptedName","metadata","requiredQuestions","q","variable","acceptedQuestions","url","find","p","a","b","packageDetailsByKey","requiredProp","requiredKeys","accepted","prop","checkProperties","isEqual","banner","retry","res","status","close","createNamespace","ns","allNamespaces","NAMESPACE","nsTemplate","disableOpenApiValidation","existing","n","nsResource","btnCb","updateWhitelist","getPackages","$router","replace","params","cluster","product","$delete","merge","isNamespaceNew","namespace","attemptSave","Error","artifactHubRepo","packagesByRepo","REGO_POLICIES_REPO","promises","packageDetails","Promise","all","package_id","policyQuestions","defaultPolicy","DEFAULT_POLICY","updatedCustomPolicy","contextAwareResources","policyDetails","DATA_ANNOTATIONS","QUESTIONS","packageAnnotation","parseAnnotation","determineAnnotation","JSON","parse","updatedPolicy","annotations","ARTIFACTHUB_PKG_ANNOTATION","containers_images","image","CONTEXT_AWARE","RULES","mutating","MUTATION","step","initialState","i","wizard","next","readmePanel","doneRoute","validationPassed","onError","onValidationPassed","handleValidationPassed","valuesYaml","configValues","showQuestions","showValuesComponent","yaml","lines","filteredLines","line","modifiedYAML","join","POLICY_SERVER","fetchResourceFields","DEFAULT_POLICY_SERVER","securityContexts","seccompProfile","policyReadme","ahPackage","readme","stringify","merged","isClone","_CLONE","isKubewardenDefaultPolicy","labels"],"sourceRoot":""}